<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>How Python Brought Me Here - LightQuanta</title>

    <!-- Pinterest Verification Tag -->
    <meta name="p:domain_verify" content="78649e3c96104d254c14a2009100fcaf" />
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://sanghan.xyz/img/hv.png" rel="icon">

<link rel="canonical" href="https://sanghan.xyz/blog/2015/07/python_brought_me_here/">

        <meta name="author" content="Sang Han" />
        <meta name="keywords" content="Code" />
        <meta name="description" content="This was originally a post made in r/python. So a bit of history Recently the thought of learning to program went from something I only wished I was capable in order to automate my life, into becoming a very remarkable and enjoyable part of my every day life. For maybe the past 2 years, mostly speeding up in the last year it’s become one of the most remarkable learning experiences." />

        <meta property="og:site_name" content="LightQuanta" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="How Python Brought Me Here"/>
        <meta property="og:url" content="https://sanghan.xyz/blog/2015/07/python_brought_me_here/"/>
        <meta property="og:description" content="This was originally a post made in r/python. So a bit of history Recently the thought of learning to program went from something I only wished I was capable in order to automate my life, into becoming a very remarkable and enjoyable part of my every day life. For maybe the past 2 years, mostly speeding up in the last year it’s become one of the most remarkable learning experiences."/>
        <meta property="article:published_time" content="2015-07-06" />
            <meta property="article:section" content="Python, Programming" />
            <meta property="article:tag" content="Code" />
            <meta property="article:author" content="Sang Han" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://sanghan.xyz/theme/css/bootstrap.paper.min.css" type="text/css"/>
    <link href="https://sanghan.xyz/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://sanghan.xyz/theme/css/pygments/solarizedlight.css" rel="stylesheet">
        <link href="https://sanghan.xyz/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://sanghan.xyz/theme/css/style.css" type="text/css"/>
        <link href="https://sanghan.xyz/static/css/site.css" rel="stylesheet">

        <link href="https://sanghan.xyz/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="LightQuanta ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top headroom" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://sanghan.xyz/" class="navbar-brand">

                <span class="fa-stack fa-large">
                    <i class="fa fa-square-o fa-stack-2x"></i>
                    <i class="fa fa-flask pull-center fa-stack-1x"></i>
                </span>
                LightQuanta
            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li><a href="https://sanghan.xyz/pages/about.html">
                        <i class="fa fa-beer"></i>
                        <span class="icon-label">About&nbsp;Me</span></a></li>
                        <li><a href="https://sanghan.xyz/pages/projects.html">
                        <i class="fa fa-code"></i>
                        <span class="icon-label">Projects</span></a></li>
                        <li><a href="https://sanghan.xyz/pages/skills.html">
                        <i class="fa fa-graduation-cap"></i>
                        <span class="icon-label">Skills</span></a></li>
                        <li><a href="https://sanghan.xyz/pages/tools.html">
                        <i class="fa fa-wrench"></i>
                        <span class="icon-label">Tools</span></a></li>
            <ul class="nav navbar-nav navbar-right">
                <!--Dropdown Categories-->
                    <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Categories<b class="caret"></b></a>
                    <ul class="dropdown-menu" role="menu">
                        <li >
                        <a href="https://sanghan.xyz/category/articles.html">Articles</a></li>
                        <li >
                        <a href="https://sanghan.xyz/category/personal.html">Personal</a></li>
                        <li >
                        <a href="https://sanghan.xyz/category/programming.html">Programming</a></li>
                        <li  class="active" >
                        <a href="https://sanghan.xyz/category/python-programming.html">Python, programming</a></li>
                        <li >
                        <a href="https://sanghan.xyz/category/quotes.html">Quotes</a></li>
                        <li >
                        <a href="https://sanghan.xyz/category/tumblr.html">Tumblr</a></li>
                    </ul>
                    </li>

<!-- Disabled
<ul class="nav navbar-nav navbar-right">
    <li><a href="https://sanghan.xyz/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
</ul>
-->



        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->


<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="https://sanghan.xyz" title="LightQuanta"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="https://sanghan.xyz/category/python-programming.html" title="Python, Programming">Python, Programming</a></li>
                <li class="active">How Python Brought Me&nbsp;Here</li>
            </ol>

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://sanghan.xyz/blog/2015/07/python_brought_me_here/"
                       rel="bookmark"
                       title="Permalink to How Python Brought Me Here">
                        How Python Brought Me&nbsp;Here
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-primary">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-07-06T00:00:00-07:00"> Mon, 06 Jul 2015</time>
    </span>

        <span class="label label-success">Category</span>
        <a href="https://sanghan.xyz/category/python-programming.html">Python, Programming</a>


<span class="label label-info">Tags</span>
	<a href="https://sanghan.xyz/tag/code.html">Code</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                
<p>This was originally a post made in
<a class="reference external" href="https://www.reddit.com/r/Python/comments/2z7bf7/how_python_brought_me_here/">r/python</a>.</p>
<div class="section" id="so-a-bit-of-history">
<h2>So a bit of&nbsp;history</h2>
<p>Recently the thought of learning to program went from something I only
wished I was capable in order to automate my life, into becoming a very
remarkable and enjoyable part of my every day life. For maybe the past 2
years, mostly speeding up in the last year it&#8217;s become one of the most
remarkable learning&nbsp;experiences.</p>

</div>
<div class="section" id="i-can-definitely-say-though-python-was-the-reason-for-my-breakthrough">
<h2>I can definitely say though, Python was the reason for my&nbsp;breakthrough.</h2>
<p>Python was the language that taught me what it means to write good,
maintainable, and beautiful code. I&#8217;ve fiddled a little bit with bash
and shell programs, as well as C, <span class="caps">JS</span> and Matlab on and off for a&nbsp;while.</p>
<p>But what really accelerated my journey was the amazing community that
was very active and passionate about teaching and refining each other as
fellow programmers, hackers no matter what background. For someone like
me whose learning model isn&#8217;t very compatible with a spoon-fed style
lectures online, or drilling codeacademy programs that were
instructional but still quite unremarkable, it was really the perfect
place for me to grow and&nbsp;thrive.</p>
<p>I learned by building things, failing, trying new things, wading through
blogs and technical articles. I slowly started to understand them, and
eventually what came to fruition was finding some quite remarkable
people who through their words taught me many amazing&nbsp;things.</p>
</div>
<div class="section" id="so-finally-just-wanted-to-say-thank-everyone-in-this-remarkable-community">
<h2>So finally, just wanted to say thank everyone in this remarkable&nbsp;community!</h2>
<p>I&#8217;ve finally started to putting in my resume, and a remarkable thing is
I&#8217;ve heard back from some. I&#8217;m pretty excited to say I&#8217;ve just submitted
one of my first serious programming challenges and probably won&#8217;t hear
back till Monday. But super anxious since being fairly new to showing my
code to others, and want to get some feedback on how I can improve and
what steps I can take to be competitive people with more conventional&nbsp;education.</p>
<p>Won&#8217;t say what company it is I&#8217;m submitting this for since I don&#8217;t know
if that&#8217;s okay to disclose. But since my code is submitted, just thought
it would be alright to share it&nbsp;here!</p>
</div>
<hr class="docutils" />
<div class="section" id="so-heres-the-full-code-and-the-prompt">
<h2><a class="reference external" href="https://gist.github.com/jjangsangy/246c9f956f745dec555b">So Heres the full code and the&nbsp;prompt!</a></h2>
<p>Mostly I&#8217;m writing a spellchecker, it&#8217;s not based on the frequency of
words in english, I just need to check membership which makes life much
easier and is different from the famous <tt class="docutils literal">norvig spellchecker</tt>.</p>
<div class="section" id="data-structures">
<h3>Data&nbsp;Structures</h3>
<p>I just use a hash table based data structure like a <tt class="docutils literal">set</tt>, so we&#8217;re
already <tt class="docutils literal">O(1)</tt> for membership test where <tt class="docutils literal">n</tt> is the size of the&nbsp;hash.</p>
<blockquote>
I could have easily just used an actual dictionary, and honestly
it&#8217;s probably going to be just as fast, or even faster. However, I
chose a set over a dict because of the <tt class="docutils literal">set</tt> mathematical
operators that have a feeling of elegance much like they do in
mathematics.</blockquote>
<div class="highlight"><pre><span id="line-1"><span class="k">class</span> <span class="nc">Dictionary</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="line-2">    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-3"><span class="sd">    Dictionary class used as a delegate for the expensive IO operation</span>
</span><span id="line-4"><span class="sd">    of generating the dictionary.</span>
</span><span id="line-5">
</span><span id="line-6"><span class="sd">    Returns a mutible `set` container type and so membership testing</span>
</span><span id="line-7"><span class="sd">    against it is an O(1) operation in terms of the amount of values stored in</span>
</span><span id="line-8"><span class="sd">    the hash table, and a O(n) operation in terms of the size hash function.</span>
</span><span id="line-9"><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line-10">
</span><span id="line-11">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
</span><span id="line-12">        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
</span><span id="line-13">
</span><span id="line-14">    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-15">        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">(</span><span class="si">%r</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>
</span><span id="line-16">
</span><span id="line-17">    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
</span><span id="line-18">        <span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
</span><span id="line-19">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
</span><span id="line-20">
</span><span id="line-21">    <span class="nd">@property</span>
</span><span id="line-22">    <span class="k">def</span> <span class="nf">words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-23">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="s">&#39;rt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">corpus</span><span class="p">:</span>
</span><span id="line-24">            <span class="n">raw_text</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="line-25">        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">raw_text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
</span><span id="line-26">
</span><span id="line-27"><span class="n">The</span> <span class="n">important</span> <span class="n">part</span> <span class="n">here</span> <span class="ow">is</span> <span class="n">the</span> <span class="sb">``</span><span class="nd">@property</span><span class="sb">``</span> <span class="n">decorator</span> <span class="n">means</span> <span class="n">that</span> <span class="n">IO</span>
</span><span id="line-28"><span class="ow">is</span> <span class="n">computed</span> <span class="sb">``</span><span class="n">lazily</span><span class="sb">``</span> <span class="ow">and</span> <span class="n">only</span> <span class="n">performed</span> <span class="n">once</span><span class="o">.</span> <span class="n">Otherwise</span> <span class="n">we</span> <span class="n">would</span>
</span><span id="line-29"><span class="n">be</span> <span class="n">creating</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">corpus</span> <span class="n">of</span> <span class="n">words</span> <span class="n">every</span> <span class="n">time</span> <span class="n">the</span> <span class="n">method</span> <span class="ow">is</span>
</span><span id="line-30"><span class="n">called</span> <span class="n">without</span> <span class="n">the</span> <span class="n">decorator</span><span class="o">.</span>
</span><span id="line-31">
</span><span id="line-32">    <span class="o">**</span><span class="n">Edit</span><span class="o">**</span> <span class="o">*</span><span class="n">Thanks</span> <span class="n">to</span> <span class="o">/</span><span class="n">u</span><span class="o">/</span><span class="n">bnorick</span> <span class="n">pointing</span> <span class="n">out</span> <span class="n">that</span> <span class="n">this</span> <span class="n">isn</span><span class="s">&#39;t</span>
</span><span id="line-33">    <span class="n">actually</span> <span class="n">true</span><span class="err">!</span><span class="o">*</span> <span class="o">*</span><span class="n">Interesting</span> <span class="n">Discussion</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">comments</span>
</span><span id="line-34">    <span class="n">regarding</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">purpose</span> <span class="n">of</span> <span class="n">the</span> <span class="sb">``</span><span class="nd">@property</span><span class="sb">``</span> <span class="n">decorator</span><span class="err">!</span><span class="o">*</span>
</span></pre></div>
<p>I know I could just have used a&nbsp;function.</p>
<p><strong>I can be honest and say I don&#8217;t normally do this, but here I built a
class mostly for show&nbsp;;)</strong></p>
</div>
<div class="section" id="spellchecker">
<h3>SpellChecker</h3>
<p>Then now I need to build the actual&nbsp;spellchecker.</p>
<p>My train of thought here&nbsp;is.</p>
<ol class="arabic simple">
<li>Membership test against the&nbsp;dictionary.</li>
<li>If word is in the set, return the&nbsp;word</li>
<li>If word is not in the set, calculate all the possible permutations of
edits within a certain&nbsp;criteria.</li>
</ol>
<p>Eventually what I chose was a really naive implementation, but using
recursion to show that I understand how to work with recursive&nbsp;programs.</p>
<div class="highlight"><pre><span id="line-1"><span class="k">class</span> <span class="nc">Correct</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="line-2">    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-3"><span class="sd">    Tries to correct for an misspelled word by accounting for the</span>
</span><span id="line-4"><span class="sd">    types of corrections.</span>
</span><span id="line-5">
</span><span id="line-6"><span class="sd">    Accounts for.</span>
</span><span id="line-7"><span class="sd">        * Case errors</span>
</span><span id="line-8"><span class="sd">        * Repeat letters</span>
</span><span id="line-9"><span class="sd">        * Incorrect vowels</span>
</span><span id="line-10"><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line-11">
</span><span id="line-12">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
</span><span id="line-13">        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="line-14">
</span><span id="line-15">    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-16">        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">(</span><span class="si">%r</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">)</span>
</span><span id="line-17">
</span><span id="line-18">    <span class="k">def</span> <span class="nf">edit_repeats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-19">        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-20"><span class="sd">        Reduces any sequentially repeating words and their permutations.</span>
</span><span id="line-21"><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="line-22">        <span class="c"># a == b offset by 1</span>
</span><span id="line-23">        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
</span><span id="line-24">        <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="line-25">
</span><span id="line-26">        <span class="c"># ord(x) - ord(y) == 0 for repeats</span>
</span><span id="line-27">        <span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">ord</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</span><span id="line-28">
</span><span id="line-29">        <span class="n">reductions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="line-30">        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">rep</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="line-31">
</span><span id="line-32">            <span class="c"># expand and contract string each time remove one repeat</span>
</span><span id="line-33">            <span class="k">for</span> <span class="n">trampoline</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rep</span><span class="p">):</span>
</span><span id="line-34">                <span class="n">expand</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</span><span id="line-35">                <span class="n">expand</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="line-36">                <span class="n">a</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expand</span><span class="p">)</span>
</span><span id="line-37">                <span class="n">reductions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</span><span id="line-38">
</span><span id="line-39">        <span class="k">return</span> <span class="n">reductions</span>
</span><span id="line-40">
</span><span id="line-41">    <span class="k">def</span> <span class="nf">edit_vowels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-42">        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-43"><span class="sd">        Generates all vowel substitutions.</span>
</span><span id="line-44">
</span><span id="line-45"><span class="sd">        Algorithm</span>
</span><span id="line-46"><span class="sd">        =========</span>
</span><span id="line-47"><span class="sd">        - Find all vowel in initial text</span>
</span><span id="line-48"><span class="sd">        - Generate every permutation of vowel substitutions</span>
</span><span id="line-49"><span class="sd">        - Create a translation table for all possible vowel sets.</span>
</span><span id="line-50"><span class="sd">        = Map translation tables back to initial text</span>
</span><span id="line-51"><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="line-52">        <span class="n">t</span><span class="p">,</span> <span class="n">v</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;aeiou&#39;</span>
</span><span id="line-53">        <span class="n">edits</span>  <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">w</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">if</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
</span><span id="line-54">        <span class="n">perms</span>  <span class="o">=</span> <span class="n">permutations</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">edits</span><span class="p">))</span>
</span><span id="line-55">        <span class="n">maps</span>   <span class="o">=</span> <span class="p">[</span><span class="n">maketrans</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">edits</span><span class="p">),</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">perm</span><span class="p">))</span> <span class="k">for</span> <span class="n">perm</span> <span class="ow">in</span> <span class="n">perms</span><span class="p">]</span>
</span><span id="line-56">        <span class="n">trans</span>  <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">maps</span><span class="p">]</span>
</span><span id="line-57">        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">trans</span><span class="p">)</span>
</span><span id="line-58">
</span><span id="line-59">    <span class="k">def</span> <span class="nf">edits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-60">        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-61"><span class="sd">        Recursively finds all edits possible within set parameters.</span>
</span><span id="line-62"><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="line-63">        <span class="n">edit</span><span class="p">,</span> <span class="n">repeats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit_vowels</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit_repeats</span><span class="p">()</span>
</span><span id="line-64">        <span class="k">if</span> <span class="n">repeats</span><span class="p">:</span>
</span><span id="line-65">            <span class="k">for</span> <span class="n">repeating</span> <span class="ow">in</span> <span class="n">repeats</span><span class="p">:</span>
</span><span id="line-66">                <span class="n">edit</span> <span class="o">|=</span> <span class="n">Correct</span><span class="p">(</span><span class="n">repeating</span><span class="p">)</span><span class="o">.</span><span class="n">edit_vowels</span><span class="p">()</span>
</span><span id="line-67">        <span class="k">return</span> <span class="n">edit</span>
</span></pre></div>
</div>
<div class="section" id="edit-distance">
<h3>Edit&nbsp;Distance</h3>
<p>Now that I have an object that will build all the possible corrections
possible, I need to choose the best&nbsp;one.</p>
<p>Meaning I need to calculate the minimum <strong>leveinstein distance</strong> to find
the shortest edit&nbsp;distance.</p>
<p>I originally tried doing hamming, but it got me weird results. My
implementation is recursive so it&#8217;s not very efficient, out of the box.
But that&#8217;s okay, because I can <tt class="docutils literal">memoize</tt> using a cache either through
the <tt class="docutils literal">&#64;lru_cache()</tt> decorator in Python 3, but since I wanted to
support both Python 2 as well, I built my own memoization&nbsp;decorator.</p>
<p><strong>It also runs on PyPy! And the tracing <span class="caps">JIT</span> is pretty good optimizing
for these slow regions if you really need the&nbsp;speed</strong></p>
<blockquote>
Also decorators are awesome! They&#8217;re very versatile, and plug and
play. It took me a while to really understand closures, but once you
get to learn them it&#8217;s a great feeling. Unfortunately I don&#8217;t find
many places where I use decorators, so it was a real pleasure using
this one.</blockquote>
<div class="highlight"><pre><span id="line-1"><span class="k">def</span> <span class="nf">memoize</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="line-2">    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-3"><span class="sd">    Memoizing decorator for functions, methods, or classes, exposing</span>
</span><span id="line-4"><span class="sd">    the cache publicly.</span>
</span><span id="line-5"><span class="sd">    Currently only works on positional arguments.</span>
</span><span id="line-6"><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line-7">    <span class="n">cache</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="line-8">
</span><span id="line-9">    <span class="nd">@functools.wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span><span id="line-10">    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="line-11">        <span class="k">if</span> <span class="n">args</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span><span id="line-12">            <span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="line-13">        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
</span><span id="line-14">
</span><span id="line-15">    <span class="k">return</span> <span class="n">wrapper</span>
</span><span id="line-16">
</span><span id="line-17"><span class="nd">@memoize</span>
</span><span id="line-18"><span class="k">def</span> <span class="nf">leveinstein_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
</span><span id="line-19">    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-20"><span class="sd">    Memoized Recursive Implementation of Leveinstein Distance</span>
</span><span id="line-21"><span class="sd">    For Calculating Edit Distances</span>
</span><span id="line-22"><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line-23">    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span id="line-24">    <span class="k">if</span> <span class="ow">not</span> <span class="n">t</span><span class="p">:</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="line-25">
</span><span id="line-26">    <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="line-27">        <span class="k">return</span> <span class="n">leveinstein_distance</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</span><span id="line-28">
</span><span id="line-29">    <span class="n">splt</span> <span class="o">=</span> <span class="n">leveinstein_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span>     <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="c"># Splits</span>
</span><span id="line-30">    <span class="n">dels</span> <span class="o">=</span> <span class="n">leveinstein_distance</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">t</span>    <span class="p">)</span> <span class="c"># Deletes</span>
</span><span id="line-31">    <span class="n">tras</span> <span class="o">=</span> <span class="n">leveinstein_distance</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="c"># Transposes</span>
</span><span id="line-32">
</span><span id="line-33">    <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">splt</span><span class="p">,</span> <span class="n">dels</span><span class="p">,</span> <span class="n">tras</span><span class="p">)</span>
</span></pre></div>
</div>
<div class="section" id="if-name-main">
<h3><tt class="docutils literal">if __name__ == '__main__':</tt></h3>
<p>And finally, I built a class that encapsulates the state of the program
and just ran&nbsp;it!</p>
<div class="highlight"><pre><span id="line-1"><span class="k">class</span> <span class="nc">SpellingBee</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="line-2">    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="line-3"><span class="sd">    Manages the state the spelling bee application.</span>
</span><span id="line-4">
</span><span id="line-5"><span class="sd">    Read from stdin:</span>
</span><span id="line-6"><span class="sd">        If spelling is incorrect, returns correction</span>
</span><span id="line-7"><span class="sd">        If no suggestion can be returns &quot;NO SUGGESTION&quot;</span>
</span><span id="line-8"><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line-9">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
</span><span id="line-10">        <span class="bp">self</span><span class="o">.</span><span class="n">words</span> <span class="o">=</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">words</span>
</span><span id="line-11">
</span><span id="line-12">    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-13">        <span class="k">try</span><span class="p">:</span>
</span><span id="line-14">            <span class="bp">self</span><span class="p">()</span>
</span><span id="line-15">        <span class="k">except</span> <span class="p">(</span><span class="ne">EOFError</span><span class="p">,</span> <span class="ne">KeyboardInterrupt</span><span class="p">):</span>
</span><span id="line-16">            <span class="k">print</span><span class="p">(</span><span class="s">&#39;Thanks for Playing!&#39;</span><span class="p">)</span>
</span><span id="line-17">            <span class="k">return</span>
</span><span id="line-18">
</span><span id="line-19">    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="line-20">        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
</span><span id="line-21">            <span class="n">spelling</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">&#39;&gt; &#39;</span><span class="p">)</span>
</span><span id="line-22">            <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">test</span><span class="p">:</span>
</span><span id="line-23">                <span class="k">print</span><span class="p">(</span><span class="s">&#39;Input: &#39;</span> <span class="o">+</span> <span class="n">spelling</span><span class="p">)</span>
</span><span id="line-24">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-25">                <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="line-26">
</span><span id="line-27">            <span class="k">if</span> <span class="n">spelling</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">:</span>
</span><span id="line-28">                <span class="k">print</span><span class="p">(</span><span class="n">spelling</span><span class="p">)</span>
</span><span id="line-29">                <span class="k">continue</span>
</span><span id="line-30">
</span><span id="line-31">            <span class="n">distance</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">leveinstein_distance</span><span class="p">,</span> <span class="n">spelling</span><span class="p">)</span>
</span><span id="line-32">            <span class="n">correction</span> <span class="o">=</span> <span class="n">Correct</span><span class="p">(</span><span class="n">spelling</span><span class="p">)</span>
</span><span id="line-33">            <span class="n">candidates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">correction</span><span class="o">.</span><span class="n">edits</span><span class="p">()</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">)</span>
</span><span id="line-34">
</span><span id="line-35">            <span class="k">if</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>
</span><span id="line-36">                <span class="k">print</span><span class="p">(</span><span class="s">&#39;NO SUGGESTION&#39;</span><span class="p">)</span>
</span><span id="line-37">                <span class="k">continue</span>
</span><span id="line-38">
</span><span id="line-39">            <span class="k">print</span><span class="p">(</span><span class="nb">min</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">distance</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</span><span id="line-40">
</span><span id="line-41">
</span><span id="line-42"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span><span id="line-43">    <span class="n">words</span>  <span class="o">=</span> <span class="n">Dictionary</span><span class="p">(</span><span class="s">&#39;/usr/share/dict/words&#39;</span><span class="p">)</span>
</span><span id="line-44">
</span><span id="line-45">    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">test</span><span class="p">:</span>
</span><span id="line-46">        <span class="n">dictionary</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">words</span><span class="o">.</span><span class="n">words</span><span class="p">)</span>
</span><span id="line-47">        <span class="n">incorrect</span> <span class="o">=</span> <span class="p">[</span><span class="n">Incorrect</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">dictionary</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
</span><span id="line-48">        <span class="n">mispelled</span> <span class="o">=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">split</span><span class="o">.</span><span class="n">edits</span><span class="p">()</span> <span class="k">for</span> <span class="n">split</span> <span class="ow">in</span> <span class="n">incorrect</span><span class="p">])</span>
</span><span id="line-49">        <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">mispelled</span><span class="p">)</span>
</span><span id="line-50">
</span><span id="line-51">    <span class="n">spelling_bee</span> <span class="o">=</span> <span class="n">SpellingBee</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</span><span id="line-52">    <span class="n">spelling_bee</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></pre></div>
</div>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'sanghan'; // required: replace example with your forum shortname

                    var disqus_identifier = 'python_brought_me_here';
                var disqus_url = 'https://sanghan.xyz/blog/2015/07/python_brought_me_here/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/jjangsangy"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="https://facebook.com/jjangsangy"><i class="fa fa-facebook-square fa-lg"></i> Facebook</a></li>
                <li class="list-group-item"><a href="https://twitter.com/jjangsangy"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="https://www.linkedin.com/pub/sang-han/40/9a8/323"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
                <li class="list-group-item"><a href="https://jjangsangy.tumblr.com"><i class="fa fa-tumblr-square fa-lg"></i> Tumblr</a></li>
                <li class="list-group-item"><a href="https://pinterest.com/jjangsangy"><i class="fa fa-pinterest-square fa-lg"></i> Pinterest</a></li>
              </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="https://sanghan.xyz/blog/2015/07/python_brought_me_here/">
                            How Python Brought Me&nbsp;Here
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="https://sanghan.xyz/blog/2015/07/point_class/">
                            The Point&nbsp;Class
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="https://sanghan.xyz/blog/2015/06/visualizaitions/">
                            Data Visualization by Programming&nbsp;Language
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="https://sanghan.xyz/blog/2015/05/recommendation_engine/">
                            The Anatomy of a Recommendation&nbsp;Engine
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="https://sanghan.xyz/blog/2015/03/machine_learning_notes/">
                            Machine Learning&nbsp;Notes
                        </a>
                    </li>
                </ul>
            </li>



    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/jjangsangy">@jjangsangy</a> on GitHub
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 LightQuanta
            &middot; Sang Han         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://sanghan.xyz/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://sanghan.xyz/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://sanghan.xyz/theme/js/respond.min.js"></script>
<script src="https://sanghan.xyz/static/js/headroom.min.js"></script>
<script src="https://sanghan.xyz/static/js/site.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'https://sanghan.xyz/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'jjangsangy',
                count: 10,
                skip_forks: true,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="https://sanghan.xyz/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'sanghan'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-51412306-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>
